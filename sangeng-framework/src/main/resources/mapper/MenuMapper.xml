<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiaohe.mapper.MenuMapper">

<!-- 返回角色对应的权限信息-->
    <select id="selectPermissionByRoleId" resultType="java.lang.String">
        select menu.perms
        from role_menu as role_menu left join menu as menu
                                                  on role_menu.menu_id = menu.id
        where role_menu.role_id = #{id};
        and menu.menu_type in ('C', 'F');
    </select>
    <select id="selectMenusByRoleId" resultType="com.xiaohe.domain.entity.Menu">
        select menu.*
        from role_menu
            left join menu  on role_menu.menu_id = menu.id
        where role_menu.role_id =#{roleId} and menu.menu_type in('C', 'M')
        ORDER BY
            menu.parent_id,menu.order_num;
    </select>
<!--    <select id="getMenuIdByRoleId" resultType="java.lang.Integer">-->
<!--        select menu_id-->
<!--            from role_menu-->
<!--        where role_id = #{roleId};-->
<!--    </select>-->
<!--    <select id="getMenuById" resultType="com.xiaohe.domain.entity.Menu">-->
<!--        select *-->
<!--        from menu-->
<!--        where id in -->
<!--            <foreach collection="list" item="menuid" open="(" separator="," close=")">-->
<!--                #{menuid}-->
<!--            </foreach>-->
<!--    </select>-->


</mapper>